<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Centro de Ayuda â€” Uruguay</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;margin:20px;text-align:center;}
    h1{margin-top:10px;}
    .btn{
      display:inline-block;margin:12px;padding:14px 18px;border-radius:10px;
      text-decoration:none;color:#fff;font-weight:600;min-width:260px;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
    }
    .wa{background:#25D366} /* WhatsApp */
    .tel{background:#4a90e2} /* llamadas */
    .call{background:#e04b4b} /* emergencia */
    .note{margin-top:18px;color:#444;font-size:0.95rem}
    .danger{color:#990000;font-weight:700;margin-top:10px}
  </style>
</head>
<body>
  <h1>Centro de Ayuda â€” Uruguay</h1>
  <p>SeleccionÃ¡ el contacto que querÃ©s usar:</p>

  <!-- WhatsApp: No estÃ¡s sola -->
  <p>
    <a class="btn wa" href="#" onclick="sendWhatsApp('59899019500','Necesito%20ayuda.%20Mi%20ubicaci%C3%B3n%20es:')">
      ðŸ“© 099 019 500 â€” No estÃ¡s sola (WhatsApp)
    </a>
  </p>

  <!-- Llamada 0800 4141 -->
  <p>
    <a class="btn tel" href="tel:08004141">ðŸ“ž 0800 4141 â€” OrientaciÃ³n violencia de gÃ©nero</a>
  </p>

  <!-- Llamada LÃ­nea Azul 0800 5050 -->
  <p>
    <a class="btn tel" href="tel:08005050">ðŸ‘¶ 0800 5050 â€” LÃ­nea Azul (niÃ±os/adolescentes)</a>
  </p>

  <!-- Llamada 911 -->
  <p>
    <a class="btn call" href="tel:911">ðŸš¨ 911 â€” Emergencia inmediata</a>
  </p>

  <p class="note">Si das permiso al navegador, el botÃ³n de WhatsApp incluirÃ¡ tu ubicaciÃ³n automÃ¡ticamente. Si no, enviarÃ¡ este enlace de la pÃ¡gina.</p>
  <p class="danger">Si estÃ¡s en peligro inmediato: llamÃ¡ al <strong>911</strong> ahora.</p>

<script>
function sendWhatsApp(number, baseMessage){
  if(!navigator.geolocation){
    const fallback = encodeURIComponent(location.href);
    window.location.href = 'https://wa.me/' + number + '?text=' + encodeURIComponent(baseMessage + fallback);
    return;
  }

  const geoTimeout = setTimeout(function(){
    const fallback = encodeURIComponent(location.href);
    window.location.href = 'https://wa.me/' + number + '?text=' + encodeURIComponent(baseMessage + fallback);
  },8000);

  navigator.geolocation.getCurrentPosition(function(pos){
    clearTimeout(geoTimeout);
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    const maps = 'https://www.google.com/maps?q=' + lat + ',' + lon;
    const msg = baseMessage + ' ' + maps + ' (si no funciona, accede a: ' + location.href + ')';
    const encoded = encodeURIComponent(msg);
    window.location.href = 'https://wa.me/' + number + '?text=' + encoded;
  }, function(err){
    clearTimeout(geoTimeout);
    const fallback = encodeURIComponent(location.href);
    window.location.href = 'https://wa.me/' + number + '?text=' + encodeURIComponent(baseMessage + fallback);
  }, {enableHighAccuracy:true, timeout:7000});
}
</script>

</body>
</html>
